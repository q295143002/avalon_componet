<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Title</title>
    <link rel="stylesheet" href="style/componet.css">
    <script src="vender/jquery.js"></script>
    <script src="vender/avalon.js"></script>
    <script src="componet/cityData.js"></script>
    <script src="componet/cityselector.js"></script>
    <script>
        var cityPdata={
            xTabShow:false,             //控制tab
            xSearchShow:false,             //控制tab
            key: {                         //tab key
                CityName: '',
                CityCode: '',
                ID: ''
            },
            ie8_key:['CityName','CityCode','ID'], //针对IE8下for in的问题
            ajaxUrl:'1.json',
            config: {
                width: '350px'
            }
        }
        var cityPdataA={};
        var cityPdataB={};
        $.extend(cityPdataA,cityPdata,{ $id: 'test'})
        $.extend(cityPdataB,cityPdata,{ $id: 'test1'})
        var a = avalon.define(cityPdataA)
        var bb = avalon.define(cityPdataB)

        var win=avalon.define({
            $id:'window',
            holdOut:function(){
                a.xTabShow=a.xSearchShow=bb.xTabShow=bb.xSearchShow=false;
            },
            aa:15

        })





        a.$watch('key.CityName',function(){
            a.key.CityCode='';
            a.key.ID='';
        })
        bb.$watch('key.CityName',function(){
            a.key.CityCode='';
            a.key.ID='';
        })

    </script>
</head>
<body ms-controller="window" ms-click="@holdOut()">

{{@aa}}
<div ms-css="{width:@config.width}" class="city_wrap" ms-controller="test">

    <xmp :widget="[{is:'ms-grid',$id:'wueieu1'},@config]">
        <ms-search class="city_search"></ms-search>

        <ms-stab class="city_tab"></ms-stab>
    </xmp>
</div>
<div ms-css="{width:@config.width}" class="city_wrap1" ms-controller="test1">

    <xmp :widget="[{is:'ms-grid',$id:'wueieu'},@config]" >
        <ms-search class="city_search"></ms-search>

        <ms-stab class="city_tab"></ms-stab>
    </xmp>
</div>
</body>
</html>